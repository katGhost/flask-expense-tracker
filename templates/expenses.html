{% extends "layout.html" %}

{% block title %} Expenses {% endblock %}

{% block main %}
 <div class="expenses-container">
    <div class="header">
      <h3 class="">Track your Expenses</h3>
      <form action="/add" method="GET">
        <button type="submit" name="action" value="add-expense" class="new-expense-button">New Expense</button>
      </form>
    </div>
    <div class="mt-3 table-responsive">
      <table class="table table-striped table-hover table-borderless table-condensed">
        <thead>
          <tr>
            <th class="text-start"> Exp Id</th>
            <th class="text-start">Expense</th>
            <th class="text-end">Merchant</th>
            <th class="text-end border-0">Category</th>
            <th class="text-end">Amount</th>
            <th class="text-end">Currency</th>
            <th class="text-end">Created At</th>
            <th class="text-end">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for expense in expenses %}
            <tr>
              <td class="text-start">{{expense.id}}</td>
              <td class="text-start">{{expense.expense}}</td>
              <td class="text-end">{{expense.merchant}}</td>
              <td class="text-end">{{expense.category.name}}</td>
              <td class="text-end">{{expense.amount}}</td>
              <td class="text-end">{{expense.currency}}</td>
              <td class="text-end">{{expense.created_at}}</td>
              <td class="text-end actions-td">
                <form action="/edit-expense/{{expense.id}}" method="POST" >
                  <!--<input type="hidden" value="{{expense.expense}}" name="expense">-->
                  <input type="submit" value="edit" class="btn btn-success edit-btn">
                </form>
                <form action="/delete-expense/{{ expense.id }}" method="POST">
                  <button class="btn  delete-btn">Delete</button>
                </form>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
 </div>
{% endblock %}